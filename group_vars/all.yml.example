---
# Example of non-sensitive common variables. Copy to group_vars/all.yml and adjust locally.

# General settings
puid: "996"
pgid: "988"
timezone: "Europe/Madrid"
app_base_path: "/opt/airconcheck"
# deployment_env should be set via inventory-specific vars; default here is optional
# deployment_env: dev

# Portainer
portainer_version: "2.27.1"

# SWAG (non-sensitive)
swag_version: "version-3.3.0"
swag_external_subdomains: "wildcard"
swag_external_validation: "dns"
swag_external_dnsplugin: "cloudflare"
swag_internal_subdomains: "wildcard"
swag_internal_validation: "dns"
swag_internal_dnsplugin: "cloudflare"

# Cloudflare token should live in group_vars/secrets.yml as dns_cloudflare_api_token
# dns_cloudflare_api_token: "<set in secrets.yml>"

# Mongo
mongo_image: 'mongo:8.0.8-noble'
mongo_replicaset_name: 'rs0'

mongo_express_image: 'mongo-express:1.0.2'

pmm_image: 'percona/pmm-server:2'
pmm_client_image: 'percona/pmm-client:2'
pmm_server_container: 'pmm-server'

# Backend
backend_api_path: "/api/v1/airconcheck"

# Build contexts (paths only)
angular_ssr_build_context: "/opt/airconcheck/angular-ssr"
backend_build_context: "/opt/airconcheck/backend"

# Homepage
homepage_container_name: homepage
homepage_image: ghcr.io/gethomepage/homepage:latest
homepage_config_path: /opt/airconcheck/homepage/config
homepage_compose_path: /opt/airconcheck/homepage
# homepage_allowed_hosts should be set per environment inventory

# CoreDNS
coredns_compose_path: /opt/airconcheck/coredns

# Docker Socket Proxy
docker_proxy_container_name: docker-socket-proxy
docker_proxy_image: tecnativa/docker-socket-proxy:0.3
docker_proxy_compose_path: /opt/airconcheck/docker-proxy

docker_proxy_env:
  CONTAINERS: 1
  SERVICES: 0
  TASKS: 0
  EVENTS: 0
  NETWORKS: 0
  INFO: 0

# Internal services published via SWAG (non-sensitive)
swag_internal_services:
  - name: portainer
    port: 9000
  - name: airconcheck_backend
    port: 3000
  - name: mongo-express
    port: 8081
  - name: homepage
    port: 3000
