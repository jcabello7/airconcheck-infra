---
# Secrets example. Copy this file to group_vars/secrets.yml and fill the values.
# Do NOT commit secrets.yml. It's ignored by .gitignore and you should consider
# encrypting it with Ansible Vault for extra safety.

# --- Cloudflare ---
# Prefer this token; templates will also accept legacy cloudflare_api_token as fallback.
dns_cloudflare_api_token: "your_cloudflare_token"
# cloudflare_api_token: "legacy_cloudflare_token_if_used"

# --- MongoDB (admin users) ---
mongo_root_user: "airconcheck"
mongo_root_password: "change_me"
mongo_pmm_user: "airconcheck-pmm"
mongo_pmm_password: "change_me"

# --- MongoDB (application) ---
mongo_app_db: "airconcheck"
mongo_app_user: "backend"
mongo_app_password: "change_me"
# Connection strings (can keep as-is if your topology is the same)
mongo_app_url_dev: "mongodb://backend:{{ mongo_app_password | urlencode }}@dev.airconcheck.com:27017,dev.airconcheck.com:27018,dev.airconcheck.com:27019/airconcheck?replicaSet=rs0&authSource=airconcheck&readPreference=secondaryPreferred"
mongo_app_url: "mongodb://backend:{{ mongo_app_password | urlencode }}@mongo1:27017,mongo2:27017,mongo3:27017/airconcheck?replicaSet=rs0&authSource=airconcheck&readPreference=secondaryPreferred"

# --- MongoDB PBM backups ---
# PBM reuses mongo_pmm_user/mongo_pmm_password unless you override the following:
# mongo_pbm_mongodb_user: "airconcheck-pbm"
# mongo_pbm_mongodb_password: "change_me"
# Define S3 credentials once and share them across environments.
mongo_pbm_s3_access_key: "change_me"
mongo_pbm_s3_secret_key: "change_me"
mongo_pbm_s3_region: "eu-west-1"
mongo_pbm_s3_bucket: "airconcheck-mongo-backups"
# mongo_pbm_s3_endpoint: "https://s3.example.com"
# mongo_pbm_s3_prefix: "prod/"

# --- Email (SMTP) ---
mail_smtp_host: "mail.airconcheck.com"
mail_smtp_port: "465"
mail_smtp_secure: "true"
mail_smtp_user: "no-reply@airconcheck.com"
mail_smtp_pass: "change_me"
mail_smtp_from: "no-reply@airconcheck.com"

# --- Backend ---
jwt_secret_key: "change_me_long_random"

# --- Ansible User (optional bootstrap) ---
ansible_dedicated_user: "ansible"
ansible_ssh_pub_key_path: "~/.ssh/ansible.pub"

# --- Access Control (users, groups, SSH keys) ---
# Define managed users here so usernames and keys aren't visible in the repo.
# Example shows three users; replace with your own. Keys are reused across all envs.
access_control_users:
	- name: "user1"
		groups: ["webcontent", "infra"]
		public_keys:
			- "ssh-ed25519 AAAA... user1@laptop"
	- name: "user2"
		groups: ["webcontent"]
		# Provide an existing key to reuse across servers, or set generate_keypair: true
		public_keys:
			- "ssh-ed25519 AAAA... user2@laptop"
		# generate_keypair: true
	- name: "user3"
		groups: ["webcontent"]
		public_keys:
			- "ssh-ed25519 AAAA... user3@laptop"
		# generate_keypair: true

# Tips:
# - Protect this file with Ansible Vault: ansible-vault encrypt group_vars/secrets.yml
# - To edit: ansible-vault edit group_vars/secrets.yml
# - To view: ansible-vault view group_vars/secrets.yml
